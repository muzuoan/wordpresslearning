WordPress的安装
===

一、 全新安装篇
---

Wordpress的安装其实很简单。

1. 到[Wordpress中文官方网站](http://cn.wordpress.org/)上面下载最新版Wordpress。
2. 将WordPress压缩包解压至一个空文件夹。
3. 将解压缩后的文件上传到您的服务器。
4. 在服务器上的mysql数据库中，创建一个数据库。
    注：本例中，数据库为`learn_wordpress`，用户名为`root`，密码为`password`。
5. 编辑配置文件：
    * __方法一：在线自动配置（推荐）__
        1. 在浏览器内直接输入您的域名，或者`wp-admin/install.php`，进入“调整配置文件”页面。
        2. 点击“现在就开始”。
        3. 填入“数据库名字”、数据库的“用户名”和“密码”字段
            本例中分别为`learn_wordpress`、`root`、`password`
        4. 填入“数据库主机”字段。
            如果wordpress程序和数据库同时存在在同一台服务器上，建议填写为`localhost`或者`127.0.0.1`。
            如果不是，请按照实际情况进行填写。
        5. 填入“表前缀”字段。
            这个字段的作用有两个：一是防止其他人暴力猜解您的数据库，二是通过不同的表前缀，可以在一个数据库内安装多个Wordpress程序，适合于只有一个数据库却想安装多个站点的情况。在本例中，取默认值`wp_`。
        6. 点击“提交”，会出现如下三种结果之一：
            * __成功__
                直接点击“现在开始安装”即可开始安装过程。
            * __数据库连接错误__
                请点击“重试”，检查刚才的填写是否正确。
            * __您的文件系统中没有足够的权限写入wp-config.php文件__
                这个问题是由于权限问题引起的。Wordpress没有足够的权限来创建、删除文件。
                请手动创建`wp-config.php`文件，并将文本框中的信息__全部__复制进去，保存、上传。
                另一个解决方法是，赋予Wordpress足够的权限。例如，将Wordpress的拥有者改为Wordpress的`www-data`，或者将Wordpress所在的文件夹的权限设置为`777`（但是__十分不推荐这样做__！）

    * __方法二：手工配置__
        注意：替换的内容如果外面有引号，请保留引号，只替换引号内的文字。
        1. 复制`wp-config-sample.php`，重命名为`wp-config.php`，并打开此文件。
        2. 找到`WordPress数据库的名称`、`MySQL数据库用户名`、`MySQL数据库密码`、`WordPress数据表前缀`，将下面的`database_name_here`、`username_here`、`password_here`、`wp_`分别替换为您的数据库名称、MySQL用户名、MySQL数据库密码、Wordpress表前缀。（本例中分别为`learn_wordpress`、`root`、`password`、`wp_`）
        3. [可选] “身份认证密钥与盐”内，将`put your unique phrase here`替换为任意文字。或者，您也可以访问 https://api.wordpress.org/secret-key/1.1/salt/ WordPress.org密钥生成服务生成一个随机密钥。
        4. 保存并上传此文件到Wordpress的目录下。
        5. 在浏览器内直接输入您的域名，或者`wp-admin/install.php`，会出现如下结果之一：
            * __安装界面__
                恭喜，您刚才的配置无误。可以进行安装。
            * __数据库连接错误__
                请检查你刚才的配置，修改后再次上传。
6. 在配置文件就绪之后，WordPress会自动尝试建立数据库表。若发生错误，请检查wp-config.php文件中填写的信息是否准确，然后再试。若问题依然存在，请访问中文支持论坛寻求帮助。
7. 安装
    根据提示信息进行安装即可。不需要担心填写错误，因为这些设置在安装完毕后都可以进行修改。
    若您__不设置密码__，请牢记生成的__随机密码__。
    若您__不输入用户名__，用户名将是__admin__。
8. 完成后，安装向导会带您到登录页面。用刚刚设置的用户名和密码登录。
    若您使用随机密码，在登录后可以按照页面提示修改密码。

二、 重新安装篇
---

若您想重新安装Wordpress，请清空您的数据库中的所有表，然后访问`wp-admin/install.php`进行安装。您会直接从第7步开始。

三、 搬家篇
---

有时候您可能会遇到这样的情况：域名到期，需要换域名，或者需要将本地的Wordpress部署到远程服务器上，或者需要将远程服务器上的Wordpress拉取到本地进行调试。这时候，您不必从头再来，只需要做一点简单的设置，Wordpress就会继续任劳任怨地为你服务。

在这里，为了简化起见，我们做如下约定：

* 使用默认表前缀`wp_`。
* 如果是网站搬家，“旧地址”为`http://www.old.com`,“新地址”为`http://www.new.com`
* 如果是本地迁往服务器，“旧地址”为`localhost`，“新地址”为`http://www.new.com`
* 如果是服务器迁往本地，“旧地址”为`http://www.old.com`，“新地址”为`localhost`

步骤：

1. 上传您的Wordpress程序。
2. 上传您的数据库。
3. 使用phpMyAdmin之类的工具进入您的数据库并执行如下操作：
    1. 进入`wp_options`表。
    2. 查看所有的`option_value`列，将所有的旧地址替换成新地址。
4. 编辑您的`.htaccess`文件，将所有的旧地址替换成新地址
